//11th February 2000 - DJCpackage uk.ac.bham.cs.djc;import uk.ac.bham.cs.djc.MPEG_Play.*;import java.io.InputStream;import java.io.DataInputStream;import java.net.URL;import java.net.URLConnection;import uk.ac.bham.cs.djc.time.TimeLine;/**	Parser of MPEG movie of football matches<p> * 	 * 	<a href="FootballMPEGMovieParser.java">Source code</a> * 	@author David Chatting (djc@cs.bham.ac.uk) *	@version Created 11th February 2000 */public class FootballMPEGMovieParser extends MPEG_movie {    /**	Location of the movie file */    protected static URL movieLocation=null;	//Might cause some problems being static...        /**	Constructor - protected as created via newFootballMPEGMovieParser()     *	stream - the MPEG movie file stream    */    protected FootballMPEGMovieParser(InputStream stream) {	super(stream);    }        /**	Constructor - protected as created via newFootballMPEGMovieParser()     *	stream - the MPEG movie file stream    */    protected FootballMPEGMovieParser(InputStream stream, int newStartTimeOfMovie) {	super(stream,newStartTimeOfMovie);    }        /**	FootballMPEGMovieParser factory     * 	Create an instance of this class     * 	newMovieLocation - URL of this MPEG movie     */    public static FootballMPEGMovieParser newFootballMPEGMovieParser(URL newMovieLocation) throws java.io.IOException{	movieLocation=newMovieLocation;		InputStream stream=getStream();		//Return new instance of FootballMPEGMovieParser:	return(new FootballMPEGMovieParser(stream));    }        /**	FootballMPEGMovieParser factory     * 	Create an instance of this class     * 	newMovieLocation - URL of this MPEG movie     * 	newStartTimeOfMovie     */    public static FootballMPEGMovieParser newFootballMPEGMovieParser(URL newMovieLocation,int newStartTimeOfMovie)    	throws java.io.IOException{	movieLocation=newMovieLocation;		InputStream stream=getStream();		//Return new instance of FootballMPEGMovieParser:	return(new FootballMPEGMovieParser(stream,newStartTimeOfMovie));    }        /**     *      */    protected static InputStream getStream() throws java.io.IOException{	//Open connection:	URLConnection thisConnection = movieLocation.openConnection();	//Create stream:	InputStream stream = new DataInputStream(thisConnection.getInputStream());		return(stream);    }        /**	Parse a subsequence of the video    *	sequenceToParse - Timeline object describing the sequence to parse    */    public void parseVideoSequence(TimeLine sequenceToParse) {	super.parseVideoSequence(sequenceToParse);    }        /**	Reassign the video decoder and other associated objects     * 	stream - the new MPEG movie file stream     */    protected synchronized void setVideoDecoder(InputStream stream) {	//Try to get previously assigned objects garbage collected:	mpeg_stream=null;	video_decoder=null;	video_thread=null;	System.gc();		//Reassign objects:	mpeg_stream = new MPEG_stream(stream,video_semaphor);	video_decoder = new FootballMPEGVideoParser(Player, mpeg_stream, movieLocation, startTimeOfMovie);	video_thread = new Thread(video_decoder);    }}